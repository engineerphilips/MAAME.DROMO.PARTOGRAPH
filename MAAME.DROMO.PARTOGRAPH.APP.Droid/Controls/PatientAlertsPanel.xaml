<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:fonts="clr-namespace:Fonts"
             x:Class="MAAME.DROMO.PARTOGRAPH.APP.Droid.Controls.PatientAlertsPanel"
             x:Name="AlertsPanel">

    <ContentView.Resources>
        <ResourceDictionary>
            <Style x:Key="AlertBadgeStyle" TargetType="Border">
                <Setter Property="Padding" Value="6,3" />
                <Setter Property="StrokeThickness" Value="0" />
            </Style>
        </ResourceDictionary>
    </ContentView.Resources>

    <Border x:Name="MainContainer"
            StrokeThickness="2"
            Stroke="{AppThemeBinding Light=#FF9800, Dark=#E65100}"
            BackgroundColor="{AppThemeBinding Light=#FFF8E1, Dark=#3D2E1B}"
            Padding="12"
            Margin="0,0,0,10"
            IsVisible="False">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="10" />
        </Border.StrokeShape>

        <VerticalStackLayout Spacing="10">
            <!-- Header -->
            <Grid ColumnDefinitions="Auto,*,Auto">
                <HorizontalStackLayout Grid.Column="0" Spacing="8">
                    <Border BackgroundColor="#FF9800"
                            WidthRequest="32"
                            HeightRequest="32"
                            StrokeShape="RoundRectangle 16"
                            StrokeThickness="0">
                        <Label Text="â°"
                               FontSize="16"
                               HorizontalOptions="Center"
                               VerticalOptions="Center" />
                    </Border>
                    <VerticalStackLayout VerticalOptions="Center">
                        <Label Text="Monitoring Alerts"
                               FontSize="14"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#E65100, Dark=#FF9800}" />
                        <Label x:Name="AlertSummaryLabel"
                               FontSize="11"
                               TextColor="{AppThemeBinding Light=#666, Dark=#AAA}" />
                    </VerticalStackLayout>
                </HorizontalStackLayout>

                <!-- Badge showing count -->
                <Border Grid.Column="2"
                        x:Name="CountBadge"
                        BackgroundColor="#EF5350"
                        WidthRequest="28"
                        HeightRequest="28"
                        StrokeShape="RoundRectangle 14"
                        StrokeThickness="0"
                        VerticalOptions="Center">
                    <Label x:Name="AlertCountLabel"
                           FontSize="12"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center"
                           VerticalOptions="Center" />
                </Border>
            </Grid>

            <!-- Separator -->
            <BoxView HeightRequest="1"
                     Color="{AppThemeBinding Light=#FFE0B2, Dark=#5D4037}" />

            <!-- Alert Items -->
            <VerticalStackLayout x:Name="AlertsContainer" Spacing="8">
                <!-- Populated programmatically -->
            </VerticalStackLayout>

            <!-- Expand/Collapse Button -->
            <Button x:Name="ExpandCollapseButton"
                    Text="Show More"
                    BackgroundColor="Transparent"
                    TextColor="{AppThemeBinding Light=#E65100, Dark=#FF9800}"
                    FontSize="12"
                    HeightRequest="30"
                    Clicked="OnExpandCollapse"
                    IsVisible="False" />
        </VerticalStackLayout>
    </Border>

</ContentView>
