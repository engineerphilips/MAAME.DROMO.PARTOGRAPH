@page "/logout"
@inject IAuthService AuthService
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthStateProvider

<PageTitle>Logging out...</PageTitle>

<div class="d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="text-center">
        <div class="spinner-border text-primary mb-3" role="status">
            <span class="visually-hidden">Logging out...</span>
        </div>
        <p>Logging out...</p>
    </div>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await AuthService.LogoutAsync();
        ((CustomAuthStateProvider)AuthStateProvider).NotifyAuthenticationStateChanged();
        Navigation.NavigateTo("login", forceLoad: true);
    }
}
